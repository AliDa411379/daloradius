<!DOCTYPE html>
<html lang="en">
<head>
    <title>JavaScript Loading Test</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="app/common/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="app/common/static/css/icons/bootstrap-icons.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1>JavaScript Loading Test</h1>
        
        <div class="row">
            <div class="col-12">
                <h3>Tab Test</h3>
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Home</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Profile</button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                        <p class="mt-3">Home tab content - if you can see this and the tab clicked, Bootstrap JS is working!</p>
                    </div>
                    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                        <p class="mt-3">Profile tab content - tab switching works!</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-12">
                <h3>Button Test</h3>
                <button class="btn btn-primary" onclick="testClick()">Test Click Function</button>
                <button class="btn btn-danger" onclick="testDelete()">Test Delete Function</button>
                <div id="test-result" class="mt-2"></div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-12">
                <h3>JavaScript Files Status</h3>
                <div id="js-status"></div>
            </div>
        </div>
    </div>

    <!-- JavaScript files -->
    <script src="app/common/static/js/pages_common.js"></script>
    <script src="app/common/static/js/bootstrap.bundle.min.js"></script>
    <script src="app/common/static/js/ajax.js"></script>
    <script src="app/common/static/js/ajaxGeneric.js"></script>
    <script src="app/common/static/js/dynamic_attributes.js"></script>

    <script>
        function testClick() {
            document.getElementById('test-result').innerHTML = '<div class="alert alert-success">Click function works!</div>';
        }
        
        function testDelete() {
            if (confirm("Test delete confirmation dialog")) {
                document.getElementById('test-result').innerHTML = '<div class="alert alert-info">Delete function works!</div>';
            }
        }
        
        // Check if Bootstrap is loaded
        window.onload = function() {
            let status = '<div class="alert alert-info">';
            
            if (typeof bootstrap !== 'undefined') {
                status += '✓ Bootstrap JS loaded successfully<br>';
            } else {
                status += '✗ Bootstrap JS failed to load<br>';
            }
            
            if (typeof sack !== 'undefined') {
                status += '✓ AJAX library loaded successfully<br>';
            } else {
                status += '✗ AJAX library failed to load<br>';
            }
            
            if (typeof changeInteger !== 'undefined') {
                status += '✓ pages_common.js loaded successfully<br>';
            } else {
                status += '✗ pages_common.js failed to load<br>';
            }
            
            status += '</div>';
            document.getElementById('js-status').innerHTML = status;
        };
    </script>
</body>
</html>